# =============================================================================
# Auth Service Environment Configuration
# Framework Version: 2.0
# =============================================================================

# APPLICATION
APP_NAME=auth-service
APP_ENV=local
APP_PORT=8081
APP_DEBUG=true

# =============================================================================
# DATABASE (YugabyteDB/PostgreSQL) - ACID Storage
# =============================================================================
DATABASE_URL=postgresql://yugabyte:yugabyte@localhost:5433/yugabyte?sslmode=disable&search_path=core

DB_HOST=localhost
DB_PORT=5433
DB_NAME=yugabyte
DB_USER=yugabyte
DB_PASSWORD=yugabyte
DB_SCHEMA=core
DB_SSLMODE=disable
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=1h

# =============================================================================
# REDIS / DRAGONFLY (L2 Cache & Token Storage)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_ENABLED=true

# Opaque Token Storage
REDIS_TOKEN_PREFIX=auth:token:
REDIS_TOKEN_TTL=900

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SECRET=change_me_to_random_256bit_key_in_production
JWT_EXPIRATION=900
JWT_REFRESH_EXPIRATION=604800
JWT_ISSUER=vsystem-auth
JWT_ALGORITHM=HS256

# Internal JWT (Service-to-Service)
INTERNAL_JWT_SECRET=change_me_internal_jwt_secret
INTERNAL_JWT_EXPIRATION=300

# =============================================================================
# GRPC SERVICE
# =============================================================================
AUTH_SERVICE_PORT=50051
AUTH_SERVICE_HTTP_PORT=8081
GRPC_MAX_RECV_MSG_SIZE=4194304
GRPC_MAX_SEND_MSG_SIZE=4194304
GRPC_MAX_CONCURRENT_STREAMS=100

# =============================================================================
# OBSERVABILITY
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
ENVIRONMENT=local
